# NB36 Solution Demo
## Introduction
This repo contains a FastAPI backend that would handle the E2E process of vetting credit card applications made by prospective NB36 users and provides a clear approve, reject or escalate decision for a given application.

The vetting process involves consuming three third-party APIs for fetching KYC, credit history and income verification data. The outputs of these calls are then subject to knockout rules determined by NB36 risk personnel.

## Solution architecture
![Taktile-NB36 Solution Architecture](<Taktile SA.png>)

## Mock-up of flow
The timelines of the assigment obviously precluded any significant development so my aim has been to demonstrate the request and response of the main endpoint, mocking most of the intermediate functionality apart from the application of a knockout rule in the credit history check and the credit limit computation.

Take the following JSON generated by the NB36 backend that might be sent to the /evaluateCreditApp endpoint:
```json
{
  "application_id": "123456789",
  "personal_details": {
    "first_name": "John",
    "last_name": "Doe",
    "date_of_birth": "1990-05-15",
    "ssn": "123-45-6789",
    "email": "johndoe@example.com",
    "phone_number": "+1234567890"
  },
  "address": {
    "street_address": "123 Main St",
    "city": "New York",
    "state": "NY",
    "zip_code": "10001",
    "country": "USA"
  },
  "employment_details": {
    "employer_name": "TechCorp Inc.",
    "job_title": "Software Engineer",
    "annual_income": 85000,
    "employment_status": "Full-time",
    "work_phone": "+1234567891"
  },
  "financial_details": {
    "existing_debt": 10000,
    "monthly_expenses": 2000,
    "credit_score": 720,
    "bank_account": {
      "account_type": "Checking",
      "bank_name": "BigBank",
      "account_number": "1234567890",
      "routing_number": "111000025"
    }
  },
  "additional_info": {
    "desired_credit_limit": 5000,
    "purpose_of_credit": "Personal expenses",
    "referred_by": "Friend"
  },
  "consent": {
    "terms_accepted": true,
    "credit_check_consent": true,
    "data_sharing_consent": true
  }
}
```
Sending this as raw JSON body in a POST request to /evaluateCreditApplication should result in an applicationResult response that includes the result of each stage of the analyses and third-party API meta-data.
![Taktile Postman request](<Taktile Postman request.png>)
The backend does the following:
* Fetches the correct workflow and associated configuration (rules and parameters)
* Sends the application payload, workflow rules and parameters to the relevant lambda functions and returns a response in JSON form
![Taktile Postman request](<Taktile Postman response.png>)
